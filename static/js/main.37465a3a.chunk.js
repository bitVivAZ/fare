(this.webpackJsonpfare=this.webpackJsonpfare||[]).push([[0],{110:function(e,t,a){e.exports={subtaskText:"SubtaskText_subtaskText__2cLil"}},146:function(e,t,a){e.exports={todoCardTitle:"TodoCardTitle_todoCardTitle__2lxdV"}},172:function(e,t,a){e.exports={addTodoCard:"AddTodoCard_addTodoCard__374OP"}},173:function(e,t,a){e.exports={board:"Board_board__19xHb"}},178:function(e,t,a){e.exports=a(310)},183:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),u=(a(183),a(21)),i=a(85),d=a.n(i),s=a(312),l=a(315),f=a(18),p=a.n(f),b=a(30),m=a(176),k=function(e,t,a){var c=r.a.createContext();return{Context:c,Provider:function(o){var i=o.children,d=Object(n.useReducer)(e,a),s=Object(u.a)(d,2),l=s[0],f=s[1],p={};for(var b in t)p[b]=t[b](f);return r.a.createElement(c.Provider,{value:Object(m.a)({state:l},p)},i)}}},C=a(145),v=a.n(C).a.create({baseURL:"https://fare-server.herokuapp.com"}),E=k((function(e,t){switch(t.type){case"get_todoCards":return t.payload;default:return e}}),{getTodoCards:function(e){return Object(b.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/todocards");case 2:a=t.sent,e({type:"get_todoCards",payload:a.data});case 4:case"end":return t.stop()}}),t)})))},deleteTodoCard:function(e){return function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("/todocards",{data:{id:t}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},toggleTodoCardCompleted:function(e){return function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.patch("/todocards",{id:t,completed:a});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},changeTodoCardTitle:function(e){return function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.patch("/todocards",{id:t,title:a});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},changeTodoCardDescription:function(e){return function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.patch("/todocards",{id:t,description:a});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},addTodoCard:function(e){return function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/todocards",{title:t,description:a});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}},[]),x=E.Context,O=E.Provider,h=a(320),T=a(319),j=a(53),_=a.n(j),g=a(313),w=a(314),y=a(146),S=a.n(y),N=g.a.Title,D=function(e){var t=e.text,a=e.size,c=e.callback,o=e.idOfTodoCard,i=e.disabled,d=Object(n.useState)(!1),s=Object(u.a)(d,2),l=s[0],f=s[1],p=Object(n.useState)(t),b=Object(u.a)(p,2),m=b[0],k=b[1];return Object(n.useEffect)((function(){m===t||l||c(o,m)}),[c,o,m,t,l]),l?r.a.createElement("div",{className:S.a.todoCardTitle},r.a.createElement(_.a,{onOutsideClick:function(){f(!1)}},r.a.createElement(w.a,{placeholder:"text",value:m,onChange:function(e){return function(e){k(e.target.value)}(e)},onKeyPress:function(e){return function(e){switch(e.key){case"Enter":f(!1);break;default:f(!0)}}(e)}}))):r.a.createElement("div",null,r.a.createElement(N,{style:{textAlign:"center"},onDoubleClick:function(){f(!i)},level:a},m))},P=a(86),A=a.n(P),I=g.a.Text,R=w.a.TextArea,z=function(e){var t=e.text,a=e.callback,c=e.idOfTodoCard,o=e.disabled,i=Object(n.useState)(!1),d=Object(u.a)(i,2),s=d[0],l=d[1],f=Object(n.useState)(t),p=Object(u.a)(f,2),b=p[0],m=p[1];return Object(n.useEffect)((function(){b===t||s||a(c,b)}),[a,c,b,t,s]),s?r.a.createElement("div",{className:A.a.todoCardDescription},r.a.createElement(_.a,{onOutsideClick:function(){l(!1)}},r.a.createElement(R,{className:A.a.text,autoSize:{minRows:2},placeholder:"text",value:b,onChange:function(e){return function(e){m(e.target.value)}(e)}}))):r.a.createElement("div",{className:A.a.todoCardDescription,onDoubleClick:function(){return l(!o)}},r.a.createElement(I,{style:{whiteSpace:"pre-wrap"},strong:!0},b))},B=a(316),K=a(317),L=k((function(e,t){return t.type,e}),{getSubtasks:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/todocards/".concat(a,"/subtasks"));case 2:n=t.sent,e({type:"get_subtasks",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addSubtask:function(e){return function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/todocards/".concat(t,"/subtasks"),{id:Object(K.a)(),title:a});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},deleteSubtask:function(e){return function(){var e=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.delete("/todocards/".concat(t,"/subtasks"),{data:{id:a}});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},editSubtask:function(e){return function(){var e=Object(b.a)(p.a.mark((function e(t,a,n,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.patch("/todocards/".concat(t,"/subtasks"),{id:a,title:n,completed:r});case 2:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}()}},[]),M=L.Context,V=L.Provider,W=a(110),F=a.n(W),J=g.a.Text,U=function(e){var t=e.text,a=e.idOfTodoCard,c=e.id,o=e.completed,i=e.callback,d=e.disabled,s=Object(n.useState)(!1),l=Object(u.a)(s,2),f=l[0],p=l[1],b=Object(n.useState)(t),m=Object(u.a)(b,2),k=m[0],C=m[1];return Object(n.useEffect)((function(){k===t||f||i(a,c,k,o)}),[i,a,c,k,t,o,f]),f?r.a.createElement("div",{className:F.a.subtaskText},r.a.createElement(_.a,{onOutsideClick:function(){p(!1)}},r.a.createElement(w.a,{placeholder:"text",value:k,onChange:function(e){return function(e){C(e.target.value)}(e)},onKeyPress:function(e){return function(e){switch(e.key){case"Enter":p(!1);break;default:p(!0)}}(e)}}))):r.a.createElement("div",{className:F.a.subtaskText},r.a.createElement(J,{strong:!0,delete:o,onDoubleClick:function(){p(!d)}},k))},Z=a(70),q=a.n(Z),H=function(e){var t=e.idOfTodoCard,a=e.id,c=e.title,o=e.completed,i=e.disabled,d=Object(n.useContext)(M),s=d.editSubtask,l=d.deleteSubtask,f=Object(n.useState)(!1),p=Object(u.a)(f,2),b=p[0],m=p[1];return r.a.createElement("div",{className:q.a.subtaskContainer,onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)}},r.a.createElement("div",{className:q.a.subtask},r.a.createElement(B.a,{className:q.a.checkbox,checked:o,onChange:function(){i||s(t,a,c,!o)}}),r.a.createElement(U,{text:c,idOfTodoCard:t,id:a,completed:o,callback:s,disabled:i})),b&&!i?r.a.createElement("div",{className:q.a.deleteIcon},r.a.createElement(h.a,{onClick:function(){return l(t,a)}})):null)},Y=function(e){var t=e.subtasks,a=e.idOfTodoCard,c=e.disabled,o=Object(n.useContext)(M).addSubtask,i=Object(n.useState)(""),d=Object(u.a)(i,2),s=d[0],l=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{placeholder:"Subtask",value:s,disabled:c,onChange:function(e){return function(e){l(e.target.value)}(e)},onKeyPress:function(e){return function(e){switch(e.key){case"Enter":o(a,s),l("")}}(e)}}),t.map((function(e){var t=e.id,n=e.title,o=e.completed;return r.a.createElement("div",{key:t},r.a.createElement(H,{id:t,title:n,completed:o,idOfTodoCard:a,disabled:c}))})))},$=function(e){var t=e.cardId,a=e.cardTitle,c=e.cardDescription,o=e.cardSubtasks,i=e.cardCompleted,f=Object(n.useContext)(x),p=f.deleteTodoCard,b=f.toggleTodoCardCompleted,m=f.changeTodoCardTitle,k=f.changeTodoCardDescription,C=Object(n.useState)(!0),v=Object(u.a)(C,2),E=v[0],O=v[1];return Object(n.useEffect)((function(){O(!1)}),[]),r.a.createElement("div",{className:i?d.a.cardCompleted:d.a.card},r.a.createElement(s.a,{actions:[r.a.createElement(h.a,{key:"remove",onClick:function(){return p(t)}}),r.a.createElement(T.a,{className:i?d.a.tickComplete:null,key:"complete",onClick:function(){return b(t,!i)}})]},r.a.createElement(l.a,{loading:E},r.a.createElement("div",null,r.a.createElement(D,{text:a,size:1,callback:m,idOfTodoCard:t,disabled:i})),r.a.createElement(z,{text:c,callback:k,idOfTodoCard:t,disabled:i}),r.a.createElement(Y,{subtasks:o,idOfTodoCard:t,disabled:i}))))},G=a(318),Q=a(172),X=a.n(Q),ee=g.a.Title,te=w.a.TextArea,ae=function(){var e=Object(n.useContext)(x).addTodoCard,t=Object(n.useState)(!0),a=Object(u.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),d=Object(u.a)(i,2),f=d[0],p=d[1],b=Object(n.useState)(""),m=Object(u.a)(b,2),k=m[0],C=m[1];return Object(n.useEffect)((function(){o(!1)}),[o]),r.a.createElement("div",{className:X.a.addTodoCard},r.a.createElement(s.a,{actions:[r.a.createElement(G.a,{key:"add",onClick:function(){return e(f,k),p(""),void C("")}})]},r.a.createElement(l.a,{loading:c},r.a.createElement(ee,{style:{textAlign:"center"},level:2},"Add Todo Card"),r.a.createElement(w.a,{placeholder:"Title",value:f,onChange:function(e){return p(e.target.value)}}),r.a.createElement(te,{style:{marginTop:10},placeholder:"Description and notes",autoSize:{minRows:3},value:k,onChange:function(e){return C(e.target.value)}}))))},ne=a(33),re=a(62),ce=a(173),oe=a.n(ce),ue=function(){var e=Object(n.useContext)(x),t=e.state,a=e.getTodoCards;return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement("div",{className:oe.a.board},r.a.createElement(re.a,{gutter:[24,24]},r.a.createElement(ne.a,{key:"addTodoCard",span:6},r.a.createElement(ae,null)),function(e){return e.map((function(e){var t=e._id,a=e.title,n=e.description,c=e.completed,o=e.subtasks;return r.a.createElement(ne.a,{key:t,span:6},r.a.createElement($,{cardId:t,cardTitle:a,cardDescription:n,cardSubtasks:o,cardCompleted:c}))}))}(t)))};a(309);function ie(){return r.a.createElement("div",{className:"App"},r.a.createElement(ue,null))}var de=function(){return r.a.createElement(O,null,r.a.createElement(V,null,r.a.createElement(ie,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports={subtaskContainer:"Subtask_subtaskContainer__RyOcZ",checkbox:"Subtask_checkbox__2ogbn",text:"Subtask_text__3dkNz",subtask:"Subtask_subtask__37ANq",deleteIcon:"Subtask_deleteIcon__3u9Y2"}},85:function(e,t,a){e.exports={card:"TodoCard_card__3V_U_",cardCompleted:"TodoCard_cardCompleted__3VPCR",tickComplete:"TodoCard_tickComplete__31F-W"}},86:function(e,t,a){e.exports={todoCardDescription:"TodoCardDescription_todoCardDescription__sZ59E"}}},[[178,1,2]]]);
//# sourceMappingURL=main.37465a3a.chunk.js.map